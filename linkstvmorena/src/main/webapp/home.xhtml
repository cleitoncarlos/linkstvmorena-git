<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="_template.xhtml">
	<ui:define name="conteudo">
		<h1>Controle dos Locais de Link</h1>
		<p:growl />
		<h:form id="formhome">
			<p:dataTable id="tabcategoria" paginator="true"
				paginatorPosition="bottom" rows="5"
				value="#{controlador.listadelocais}" var="l"
				emptyMessage="Nenhum registro." border="1">
				<f:facet name="header">
        				Lista de Locais
     				</f:facet>
				<p:column>
					<f:facet name="header">Local</f:facet>
					<h:outputLabel value="#{l.nome}"></h:outputLabel>
				</p:column>
				<p:column>
					<f:facet name="header">Endereço</f:facet>
					<h:outputLabel value="#{l.logradouro}"></h:outputLabel>
				</p:column>
				<p:column>
					<f:facet name="header">Numero</f:facet>
					<h:outputLabel value="#{l.numero}"></h:outputLabel>
				</p:column>
				<p:column>
					<f:facet name="header">Status</f:facet>
					<h:outputLabel value="#{l.statuslocal.nome}"></h:outputLabel>
				</p:column>

				<p:column width="50">
					<f:facet name="header">Ação</f:facet>
					<p:commandButton icon="ui-icon-search"
						style="width:30px; heigt:30px" process="@this"
						title="Ver Detalhes" update=":formhome:localDetail:"
						onclick="PF('localDialog').show()">
						<f:setPropertyActionListener value="#{l}"
							target="#{controlador.selectedLocal}" />
					</p:commandButton>
					

				</p:column>
			</p:dataTable>

			<p:dialog header="#{controlador.selectedLocal.nome}"
				widgetVar="localDialog" modal="false" showEffect="fade"
				hideEffect="fade" resizable="false">
				<p:outputPanel id="localDetail" style="text-align:none;"
					styleClass="ui-noborder">

					<p:carousel value="#{controlador.selectedLocal}" headerText="Local"
						var="local" numVisible="1" itemStyle="height:120px;"
						easing="easeOutBounce" style="width:450px" cricular="true">
						<p:panelGrid columns="2" styleClass="ui-noborder"
							columnClasses="label,value">

							<h:outputText value="Local:" />
							<h:outputText value="#{controlador.selectedLocal.nome}" />

							<h:outputText value="Endereço:" />
							<h:outputText
								value="#{controlador.selectedLocal.logradouro} , Nº #{controlador.selectedLocal.numero} - #{controlador.selectedLocal.bairro}" />

							<h:outputText value="Complemento:" />
							<h:outputText value="#{controlador.selectedLocal.complemento}" />

							<h:outputText value="Observação:" />
							<h:outputText value="#{controlador.selectedLocal.observacao}" />


						</p:panelGrid>
					</p:carousel>
					<br />

					<p:carousel value="#{controlador.selectedLocal.ponto}"
						headerText="Ponto" var="ponto" numVisible="1"
						itemStyle="height:auto;" 
						style="width:450px">

						<p:panelGrid columns="2" styleClass="ui-noborder"
							rendered="#{not empty controlador.selectedLocal}"
							columnClasses="label,value">

							<h:outputText value="Descrição:" />
							<h:outputText value="#{ponto.descricao}" />

							<h:outputText value="Observação:" />
							<h:outputText value="#{ponto.observacao}" />

							<h:outputText value="Status:" />
							<h:outputText value="#{ponto.statusponto.nome}" />

						</p:panelGrid>
					</p:carousel>
					<br />
					<p:carousel value="#{controlador.selectedLocal.contato}"
						headerText="Contato" var="contato" numVisible="1"
						itemStyle="height:auto;" easing="easeOutBounce"
						style="width:450px">

						<p:panelGrid columns="2" styleClass="ui-noborder"
							rendered="#{not empty controlador.selectedLocal}"
							columnClasses="label,value">

							<h:outputText value="Nome:" />
							<h:outputText value="#{contato.nome}" />

							<h:outputText value="Celular:" />
							<h:outputText value="#{contato.celular}" />

							<h:outputText value="Telefone:" />
							<h:outputText value="#{contato.telefone}" />

							<h:outputText value="Email:" />
							<h:outputText value="#{contato.email}" />

						</p:panelGrid>
					</p:carousel>

					<!-- 	<p:panelGrid columns="2" styleClass="ui-noborder"
						rendered="#{not empty controlador.selectedLocal}"
						columnClasses="label,value">
						<h:outputText value="Categoria:" />
						<p:dataList value="#{controlador.selectedLocal.categoria}"
							var="categoria" type="none">
					        #{categoria.nome}
					    </p:dataList>

						<h:outputText value="Status:" />
						<h:outputText
							value="#{controlador.selectedLocal.statuslocal.nome}" />

					</p:panelGrid> -->
				</p:outputPanel>
			</p:dialog>


		</h:form>
		<p:dialog header="Nova Categoria" widgetVar="dl" resizable="false"
			draggable="false" responsive="true" modal="false" appendToBody="true">
			<h:form id="detalheLoal">
				<p:messages id="messages" autoUpdate="true" closable="true" />
				<p:panelGrid columns="2">
					<h:outputText value="Local: " />
					<h:outputText styleClass="outputLabel" value="#{l.nome}" />
					<p:commandButton value="Cancelar" style=" height:30px"
						onclick="PF('dl').hide()" process="@this" update="@form">

					</p:commandButton>
				</p:panelGrid>
			</h:form>
		</p:dialog>

	</ui:define>

</ui:composition>
</html>