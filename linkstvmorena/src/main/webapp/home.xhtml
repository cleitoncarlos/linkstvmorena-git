<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="_template.xhtml">
	<ui:define name="conteudo">
		<p align="center"
			style="padding-top: 40px; font-size: 60px; font-family: avantgarde-book, sans-serif, arial, helveticacomic sans ms,amaranth;">Pesquisar
			Local de Link</p>
		<br />
		<h:form id="formhome">
			<p:growl id="m" />

			<div align="center">
				<p:inputText style="width:700px; margin-left:"
					value="#{controlador.busca}"
					placeholder="Digite um Local. ex: Forum Eleitoral">
					<p:ajax event="keyup" listener="#{controlador.search()}"
						update="tabteste m" delay="500" />
				</p:inputText>

			</div>

			<br />





			<p:accordionPanel value="#{controlador.listSearch}" var="l"
				id="tabteste" activeIndex="null">

				<p:tab title="#{l.nome}">
					<p align="center">
						<strong>Descrição do Local</strong>
						<p:separator />
					</p>
					<p:panelGrid columns="2" style="width:100%"
						styleClass="ui-noborder">
						<h:panelGrid columns="2" cellpadding="5">

							<h:outputText value="Data Cadastro:" style="font-weight: bold" />
							<h:outputText value="#{l.dataCadastro.time}">
								<f:convertDateTime dateStyle="long" pattern="dd/MM/yyyy HH:mm" />
							</h:outputText>

							<h:outputText value="Nome:" style="font-weight: bold" />
							<h:outputText value="#{l.nome}" />

							<h:outputText value="Endereço:" style="font-weight: bold" />
							<h:outputText value="#{l.logradouro}, #{l.numero} - #{l.bairro}" />

							<h:outputText value="Observação:" style="font-weight: bold" />
							<h:outputText value="#{l.observacao}" />

						</h:panelGrid>
						<h:panelGroup>
							<p:commandButton type="button"
								onclick="PF('switcher').previous();"
								icon="ui-icon-circle-triangle-w" id="prev" />
							<p:commandButton type="button" onclick="PF('switcher').next();"
								icon="ui-icon-circle-triangle-e" id="next" />

							<p:imageSwitch effect="wipe" widgetVar="switcher"
								id="manuelSwitcher" slideshowAuto="false">
								<ui:repeat value="#{controlador.listaImagens()}" var="image"
									id="manuelSwitcherImages">
									<p:graphicImage value="/img/#{image.descricao}" id="image"
										height="300" width="500" />
								</ui:repeat>
							</p:imageSwitch>
						</h:panelGroup>


					</p:panelGrid>

					<p:separator />
					<p align="center">
						<strong>Ponto(s)</strong>
					</p>
					<p:dataTable var="ponto" value="#{l.ponto}"
						emptyMessage="Sem dados dos Pontos!">

						<p:column headerText="Descrição:">
							<h:outputText value="#{ponto.descricao}" />
						</p:column>

						<p:column headerText="Observação">
							<h:outputText value="#{ponto.observacao}" />
						</p:column>

						<p:column headerText="Recursos">
							<h:outputText value="#{ponto.statusponto.nome}" />
						</p:column>

					</p:dataTable>
					<br />
					<p align="center">
						<strong>Contato(s)</strong>
					</p>
					<p:dataTable var="contato" value="#{l.contato}"
						emptyMessage="Sem dados dos Contatos">

						<p:column headerText="Nome:">
							<h:outputText value="#{contato.nome}" />
						</p:column>
						<p:column headerText="Celular:">
							<h:outputText value="#{contato.celular}" />
						</p:column>
						<p:column headerText="Telefone:">
							<h:outputText value="#{contato.telefone}" />
						</p:column>
						<p:column headerText="Email:">
							<h:outputText value="#{contato.email}" />
						</p:column>

					</p:dataTable>
				</p:tab>
			</p:accordionPanel>


			<p:dialog header="#{controlador.selectedLocal.nome}"
				position="center" widgetVar="localDialog" modal="false"
				showEffect="fade" hideEffect="fade" resizable="false">
				<p:outputPanel id="localDetail" style="text-align:none;"
					styleClass="ui-noborder">

					<p:carousel value="#{controlador.selectedLocal}" headerText="Local"
						var="local" numVisible="1" itemStyle="height:120px;"
						easing="easeOutBounce" style="width:450px" cricular="true">
						<p:panelGrid columns="2" styleClass="ui-noborder"
							columnClasses="label,value">

							<h:outputText value="Local:" />
							<h:outputText value="#{controlador.selectedLocal.nome}" />

							<h:outputText value="Endereço:" />
							<h:outputText
								value="#{controlador.selectedLocal.logradouro} , Nº #{controlador.selectedLocal.numero} - #{controlador.selectedLocal.bairro}" />

							<h:outputText value="Complemento:" />
							<h:outputText value="#{controlador.selectedLocal.complemento}" />

							<h:outputText value="Observação:" />
							<h:outputText value="#{controlador.selectedLocal.observacao}" />


						</p:panelGrid>
					</p:carousel>
					<br />

					<p:carousel value="#{controlador.selectedLocal.ponto}"
						headerText="Ponto" var="ponto" numVisible="1"
						itemStyle="height:auto;" easing="easeOutBounce"
						style="width:450px">

						<p:panelGrid columns="2" styleClass="ui-noborder"
							rendered="#{not empty controlador.selectedLocal}"
							columnClasses="label,value">

							<h:outputText value="Descrição:" />
							<h:outputText value="#{ponto.descricao}" />

							<h:outputText value="Observação:" />
							<h:outputText value="#{ponto.observacao}" />

							<h:outputText value="Status:" />
							<h:outputText value="#{ponto.statusponto.nome}" />

						</p:panelGrid>
					</p:carousel>
					<br />
					<p:carousel value="#{controlador.selectedLocal.contato}"
						headerText="Contato" var="contato" numVisible="1"
						itemStyle="height:auto;" easing="easeOutBounce"
						style="width:450px">

						<p:panelGrid columns="2" styleClass="ui-noborder"
							rendered="#{not empty controlador.selectedLocal}"
							columnClasses="label,value">

							<h:outputText value="Nome:" />
							<h:outputText value="#{contato.nome}" />

							<h:outputText value="Celular:" />
							<h:outputText value="#{contato.celular}" />

							<h:outputText value="Telefone:" />
							<h:outputText value="#{contato.telefone}" />

							<h:outputText value="Email:" />
							<h:outputText value="#{contato.email}" />

						</p:panelGrid>
					</p:carousel>

					<!-- 	<p:panelGrid columns="2" styleClass="ui-noborder"
						rendered="#{not empty controlador.selectedLocal}"
						columnClasses="label,value">
						<h:outputText value="Categoria:" />
						<p:dataList value="#{controlador.selectedLocal.categoria}"
							var="categoria" type="none">
					        #{categoria.nome}
					    </p:dataList>

						<h:outputText value="Status:" />
						<h:outputText
							value="#{controlador.selectedLocal.statuslocal.nome}" />

					</p:panelGrid> -->
				</p:outputPanel>
			</p:dialog>


		</h:form>
		<p:dialog header="Nova Categoria" widgetVar="dl" resizable="false"
			draggable="false" responsive="true" modal="false" appendToBody="true">
			<h:form id="detalheLoal">
				<p:messages id="messages" closable="true" />
				<p:panelGrid columns="2">
					<h:outputText value="Local: " />
					<h:outputText styleClass="outputLabel" value="#{l.nome}" />
					<p:commandButton value="Cancelar" style=" height:30px"
						onclick="PF('dl').hide()" process="@this" update="@form">

					</p:commandButton>
				</p:panelGrid>
			</h:form>
		</p:dialog>

	</ui:define>

</ui:composition>
</html>